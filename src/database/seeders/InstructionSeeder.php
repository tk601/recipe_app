<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class InstructionSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // ユーザーIDを取得
        $userId = DB::table('users')->first()->id ?? 1;

        // レシピIDを取得
        $recipeIds = DB::table('recipes')->pluck('id', 'recipe_name')->toArray();

        // 各レシピの調理手順を定義
        $recipeInstructions = [
            // 肉じゃが
            '肉じゃが' => [
                'じゃがいもと玉ねぎを一口大に切り、にんじんは乱切りにします。',
                '鍋に油を熱し、豚肉を炒めて色が変わったら野菜を加えます。',
                '全体に油が回ったら、水、砂糖、醤油、みりん、酒を加えます。',
                '落し蓋をして中火で20分ほど煮込みます。',
                'じゃがいもが柔らかくなったら完成です。',
            ],

            // 鮭の塩焼き
            '鮭の塩焼き' => [
                '鮭の両面に塩を振り、10分ほど置きます。',
                '出てきた水分をキッチンペーパーで拭き取ります。',
                'グリルまたはフライパンに油を薄く塗り、中火で焼きます。',
                '片面5分ずつ、こんがりと焼き色がつくまで焼きます。',
                'お皿に盛り付け、大根おろしとレモンを添えて完成です。',
            ],

            // 味噌汁
            '味噌汁' => [
                '豆腐を一口大に切ります。わかめは水で戻しておきます。',
                '鍋に水を入れて沸騰させ、だしの素を加えます。',
                '豆腐とわかめを加えて2分ほど煮ます。',
                '火を弱めて味噌を溶き入れます。',
                '再び温まったら完成です。沸騰させないよう注意してください。',
            ],

            // 豚の生姜焼き
            '豚の生姜焼き' => [
                '豚肉に軽く塩こしょうで下味をつけます。',
                'しょうがをすりおろし、醤油、みりん、酒と混ぜてタレを作ります。',
                '玉ねぎを薄切りにします。',
                'フライパンに油を熱し、豚肉を中火で焼きます。',
                '肉の色が変わったら玉ねぎを加えて炒めます。',
                'タレを加えて絡めながら煮詰めたら完成です。',
            ],

            // 唐揚げ
            '唐揚げ' => [
                '鶏肉を一口大に切ります。',
                'ボウルに醤油、酒、しょうが、にんにくを入れて混ぜ、鶏肉を30分漬け込みます。',
                '鶏肉に片栗粉と小麦粉を混ぜたものをまぶします。',
                '170度の油で3〜4分揚げます。',
                '一度取り出して3分休ませた後、180度で1分二度揚げします。',
                '油を切ってお皿に盛り付けたら完成です。',
            ],

            // ハンバーグ
            'ハンバーグ' => [
                '玉ねぎをみじん切りにし、フライパンで炒めて冷ましておきます。',
                'ボウルに牛肉、炒めた玉ねぎ、パン粉、卵、塩こしょうを入れてよく混ぜます。',
                '粘りが出るまでしっかりこねたら、空気を抜きながら小判型に成形します。',
                '中央を少しくぼませて、フライパンに油を熱し中火で焼きます。',
                '両面に焼き色がついたら蓋をして弱火で7〜8分蒸し焼きにします。',
                '竹串を刺して透明な肉汁が出たら完成です。お好みのソースをかけてどうぞ。',
            ],

            // オムライス
            'オムライス' => [
                '鶏肉と玉ねぎをみじん切りにします。',
                'フライパンに油を熱し、鶏肉と玉ねぎを炒めます。',
                'ご飯を加えてケチャップで味付けし、お皿に盛り付けます。',
                '卵を溶きほぐし、塩こしょうで味を整えます。',
                'フライパンにバターを溶かし、卵を流し入れて半熟状態にします。',
                'ライスの上に卵をのせて形を整えたら完成です。',
            ],

            // グラタン
            'グラタン' => [
                'マカロニを茹でて水気を切ります。',
                '鍋にバターを溶かし、小麦粉を加えて炒めます。',
                '牛乳を少しずつ加えながらダマにならないよう混ぜます。',
                'とろみがついたら塩こしょうで味を整え、マカロニを加えます。',
                '耐熱皿に入れてチーズをのせ、200度のオーブンで15分焼きます。',
                '表面にこんがり焼き色がついたら完成です。',
            ],

            // カレーライス
            'カレーライス' => [
                '玉ねぎ、にんじん、じゃがいもを一口大に切ります。',
                '鍋に油を熱し、豚肉を炒めて色が変わったら野菜を加えます。',
                '全体に油が回ったら水を加え、沸騰したらアクを取ります。',
                '蓋をして弱火で15〜20分、野菜が柔らかくなるまで煮込みます。',
                '一旦火を止め、カレールーを割り入れて溶かします。',
                '再び弱火で煮込み、とろみがついたら完成です。ご飯と一緒にどうぞ。',
            ],

            // エビフライ
            'エビフライ' => [
                'エビの殻をむき、背わたを取り除きます。',
                '腹側に数カ所切り込みを入れて伸ばし、まっすぐにします。',
                '塩こしょうで下味をつけ、小麦粉、溶き卵、パン粉の順につけます。',
                '170〜180度の油できつね色になるまで揚げます。',
                '油をしっかり切ってお皿に盛り付けます。',
                'タルタルソースやレモンを添えて完成です。',
            ],

            // 麻婆豆腐
            '麻婆豆腐' => [
                '豆腐を2cm角に切り、熱湯で下茹でします。',
                'ねぎとしょうが、にんにくをみじん切りにします。',
                'フライパンに油を熱し、豆板醤を炒めて香りを出します。',
                '豚ひき肉を加えて炒め、色が変わったら調味料を加えます。',
                '水溶き片栗粉でとろみをつけ、豆腐を加えて温めます。',
                '仕上げにごま油とねぎを散らして完成です。',
            ],

            // 餃子
            '餃子' => [
                'キャベツとにらをみじん切りにし、塩をふって水気を絞ります。',
                'ボウルに豚ひき肉、野菜、調味料を入れてよく混ぜます。',
                '餃子の皮に具を包み、端に水をつけてしっかり閉じます。',
                'フライパンに油を熱し、餃子を並べて焼き目をつけます。',
                '水を加えて蓋をし、蒸し焼きにします。',
                '水分が飛んだら蓋を取り、カリッと焼いて完成です。',
            ],

            // チャーハン
            'チャーハン' => [
                'ねぎをみじん切りにします。',
                '卵を溶きほぐしておきます。',
                'フライパンを強火で熱し、油をなじませます。',
                '溶き卵を入れてすぐにご飯を加え、素早く混ぜます。',
                'パラパラになったらねぎを加え、塩こしょうで味を整えます。',
                '醤油を鍋肌から回し入れ、香りをつけたら完成です。',
            ],

            // 酢豚
            '酢豚' => [
                '豚肉を一口大に切り、片栗粉をまぶします。',
                'ピーマン、にんじん、玉ねぎを一口大に切ります。',
                '豚肉を170度の油でカリッと揚げます。',
                '野菜をさっと炒めます。',
                '酢、砂糖、醤油、ケチャップを混ぜた甘酢あんを作ります。',
                'フライパンに甘酢あん、豚肉、野菜を入れて絡めたら完成です。',
            ],

            // エビチリ
            'エビチリ' => [
                'エビの殻をむき、背わたを取って下処理します。',
                '塩と片栗粉で揉み洗いし、水で洗い流します。',
                'ねぎとしょうが、にんにくをみじん切りにします。',
                'フライパンに油を熱し、エビを炒めて取り出します。',
                '同じフライパンで豆板醤と香味野菜を炒め、調味料を加えます。',
                'エビを戻し入れて絡め、水溶き片栗粉でとろみをつけて完成です。',
            ],

            // カルボナーラ
            'カルボナーラ' => [
                'ベーコンを1cm幅に切ります。',
                'ボウルに卵、粉チーズ、黒こしょうを混ぜ合わせます。',
                'パスタを表示時間通り茹でます。',
                'フライパンでベーコンをカリカリに炒めます。',
                '茹で上がったパスタをフライパンに入れ、火を止めます。',
                '卵液を加えて素早く混ぜ、余熱で卵をとろっとさせたら完成です。',
            ],

            // マルゲリータピザ
            'マルゲリータピザ' => [
                'ピザ生地を丸く伸ばします。',
                'トマトソースを薄く塗ります。',
                'トマトをスライスして並べます。',
                'モッツァレラチーズをちぎってのせます。',
                'オリーブオイルを回しかけます。',
                '230度のオーブンで10〜12分、チーズが溶けて焼き色がつくまで焼いて完成です。',
            ],

            // ペスカトーレ
            'ペスカトーレ' => [
                'エビ、いか、あさりなどの魚介類を下処理します。',
                'にんにくをみじん切りにします。',
                'フライパンにオリーブオイルとにんにくを入れて香りを出します。',
                '魚介類を加えて炒め、白ワインを加えます。',
                'トマトソースを加えて煮込みます。',
                '茹でたパスタを加えて絡め、塩こしょうで味を整えたら完成です。',
            ],

            // リゾット
            'リゾット' => [
                '玉ねぎをみじん切りにします。',
                '鍋にバターを溶かし、玉ねぎを透き通るまで炒めます。',
                '米を洗わずに加えて炒めます。',
                '温かいスープを少しずつ加えながら混ぜ続けます。',
                '米が柔らかくなったらバターとチーズを加えます。',
                'クリーミーな状態になったら塩こしょうで味を整えて完成です。',
            ],

            // ボンゴレビアンコ
            'ボンゴレビアンコ' => [
                'あさりを砂抜きして殻をこすり合わせて洗います。',
                'にんにくをみじん切り、鷹の爪を輪切りにします。',
                'フライパンにオリーブオイル、にんにく、鷹の爪を入れて香りを出します。',
                'あさりと白ワインを加えて蓋をし、あさりの口が開くまで蒸します。',
                'パスタの茹で汁を加えて乳化させます。',
                '茹でたパスタを加えて絡め、仕上げにパセリを散らして完成です。',
            ],

            // ガパオライス
            'ガパオライス' => [
                '鶏肉をひき肉にするか、細かく刻みます。',
                'ピーマンと玉ねぎをみじん切りにします。',
                'フライパンに油を熱し、にんにくと唐辛子を炒めて香りを出します。',
                '鶏肉を加えて炒め、色が変わったら野菜を加えます。',
                'ナンプラー、オイスターソース、砂糖で味付けし、バジルを加えます。',
                '目玉焼きを作り、ご飯と一緒に盛り付けて完成です。',
            ],

            // トムヤムクン
            'トムヤムクン' => [
                'エビの殻をむき、背わたを取って下処理します。',
                'トマトを一口大に切り、きのこ類を準備します。',
                '鍋に水を入れて沸騰させ、レモングラスやコブミカンの葉を加えます。',
                'トムヤムペーストを溶かし入れます。',
                'エビ、トマト、きのこを加えて煮ます。',
                'ナンプラーとライム汁で味を整え、パクチーをのせて完成です。',
            ],

            // グリーンカレー
            'グリーンカレー' => [
                '鶏肉を一口大に切ります。',
                'なすやパプリカなどの野菜を切ります。',
                '鍋にココナッツミルクを入れて温めます。',
                'グリーンカレーペーストを加えて混ぜます。',
                '鶏肉と野菜を加えて煮込みます。',
                'ナンプラーと砂糖で味を調え、バジルを散らして完成です。',
            ],

            // フォー
            'フォー' => [
                '牛肉を薄切りにします。',
                'もやしやハーブ類を洗って準備します。',
                '鍋に水と香味野菜、スパイスを入れてスープを作ります。',
                'フォーの麺を茹でて器に盛ります。',
                '牛肉をのせて熱々のスープをかけます。',
                'もやし、パクチー、ライムを添えて完成です。',
            ],

            // チーズケーキ
            'チーズケーキ' => [
                'クリームチーズを室温に戻して柔らかくします。',
                'ビスケットを砕いて溶かしバターと混ぜ、型に敷き詰めます。',
                'クリームチーズに砂糖を加えてなめらかになるまで混ぜます。',
                '卵を1個ずつ加えて混ぜ、生クリームとレモン汁を加えます。',
                '型に流し入れ、160度のオーブンで50〜60分焼きます。',
                '粗熱が取れたら冷蔵庫で一晩冷やして完成です。',
            ],

            // パンケーキ
            'パンケーキ' => [
                'ボウルに卵と砂糖を入れて混ぜます。',
                '牛乳を加えてさらに混ぜます。',
                '薄力粉とベーキングパウダーをふるい入れて混ぜます。',
                'フライパンを熱し、生地を丸く流し入れます。',
                '表面にプツプツと気泡が出たらひっくり返します。',
                '両面焼けたらお皿に盛り、バターとメープルシロップをかけて完成です。',
            ],

            // ティラミス
            'ティラミス' => [
                'マスカルポーネチーズを柔らかくします。',
                '卵黄と砂糖を白っぽくなるまで混ぜます。',
                'マスカルポーネを加えてなめらかになるまで混ぜます。',
                '別のボウルで卵白を角が立つまで泡立てます。',
                'フィンガービスケットをコーヒーに浸し、容器に敷き詰めます。',
                'クリームを塗り重ね、冷蔵庫で3時間以上冷やし、ココアパウダーをふって完成です。',
            ],

            // プリン
            'プリン' => [
                'カラメルソースを作ります。砂糖と水を鍋で加熱し、茶色くなったら型に流します。',
                '卵と砂糖をボウルで混ぜます。',
                '牛乳を温めて卵液に少しずつ加えます。',
                'バニラエッセンスを加えて混ぜ、濾します。',
                'カラメルを入れた型に流し、蒸し器で15〜20分蒸します。',
                '粗熱が取れたら冷蔵庫で冷やし、型から外して完成です。',
            ],

            // すき焼き
            'すき焼き' => [
                '牛肉、豆腐、ねぎ、春菊などを食べやすい大きさに切ります。',
                '鍋に牛脂を溶かし、ねぎを焼きます。',
                '牛肉を広げて焼き、色が変わったら砂糖を振りかけます。',
                '醤油、みりん、酒を混ぜた割り下を加えます。',
                '他の具材を加えて煮込みます。',
                '溶き卵につけて食べて完成です。',
            ],

            // 豚汁
            '豚汁' => [
                '豚肉を一口大に切ります。',
                '野菜（大根、にんじん、じゃがいも、ごぼう）を切ります。',
                '鍋にごま油を熱し、豚肉を炒めます。',
                '野菜を加えてさっと炒め、水とだしを加えます。',
                '野菜が柔らかくなるまで15〜20分煮込みます。',
                '味噌を溶き入れ、ねぎを散らして完成です。',
            ],

            // キムチ鍋
            'キムチ鍋' => [
                '豚肉を一口大に切ります。',
                '白菜、豆腐、ねぎ、きのこなどを切ります。',
                '鍋に水とだしを入れて沸騰させます。',
                'キムチとコチュジャンを加えて味を整えます。',
                '豚肉と野菜を加えて煮込みます。',
                '豆腐を加えて温まったら完成です。',
            ],

            // クリームシチュー
            'クリームシチュー' => [
                '鶏肉、じゃがいも、にんじん、玉ねぎを一口大に切ります。',
                '鍋にバターを溶かし、鶏肉を炒めます。',
                '野菜を加えてさっと炒め、水を加えて煮込みます。',
                '野菜が柔らかくなったらシチューのルーを加えます。',
                '牛乳を加えてとろみがつくまで煮込みます。',
                '塩こしょうで味を整えたら完成です。',
            ],

            // シーザーサラダ
            'シーザーサラダ' => [
                'レタスを洗って一口大にちぎります。',
                'ベーコンをカリカリに焼いて細かく切ります。',
                'パンをサイコロ状に切り、クルトンを作ります。',
                'ボウルにレタスを入れます。',
                'シーザードレッシングをかけて混ぜます。',
                'ベーコン、クルトン、パルメザンチーズをトッピングして完成です。',
            ],

            // ポテトサラダ
            'ポテトサラダ' => [
                'じゃがいもとにんじんを茹でます。',
                '卵を茹でて殻をむき、刻みます。',
                'きゅうりを薄切りにして塩もみし、水気を絞ります。',
                'じゃがいもが熱いうちに潰します。',
                '全ての材料を混ぜ、マヨネーズ、塩こしょうで味付けします。',
                '冷蔵庫で冷やして味を馴染ませたら完成です。',
            ],

            // ほうれん草のおひたし
            'ほうれん草のおひたし' => [
                'ほうれん草を洗います。',
                '鍋にたっぷりのお湯を沸かし、塩を少々加えます。',
                'ほうれん草を根元から茹でます。',
                '冷水に取って色止めし、水気をしっかり絞ります。',
                '食べやすい長さに切ります。',
                '醤油、だし、みりんを混ぜたタレをかけて完成です。',
            ],

            // きんぴらごぼう
            'きんぴらごぼう' => [
                'ごぼうとにんじんを細切りにします。',
                'ごぼうは水にさらしてアクを抜きます。',
                'フライパンにごま油を熱し、ごぼうを炒めます。',
                'にんじんを加えて炒め、全体に油が回ったら調味料を加えます。',
                '砂糖、醤油、みりんで味付けし、汁気がなくなるまで炒めます。',
                '仕上げに唐辛子とごまを振って完成です。',
            ],
        ];

        // データベースに挿入
        foreach ($recipeInstructions as $recipeName => $instructions) {
            $recipeId = $recipeIds[$recipeName] ?? null;

            if (!$recipeId) {
                continue;
            }

            foreach ($instructions as $index => $description) {
                DB::table('recipe_instructions')->insert([
                    'recipe_id' => $recipeId,
                    'instruction_no' => $index + 1,
                    'description' => $description,
                    'instruction_image_url' => null,
                    'user_id' => $userId,
                    'created_at' => now(),
                ]);
            }
        }
    }
}
